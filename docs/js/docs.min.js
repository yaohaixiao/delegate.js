!function(){"use strict";const e={},t=(e,t)=>{const r=Object.prototype.hasOwnProperty;return e&&r.call(e,t)},r=r=>t(e,r)&&e[r].length>0,n=(e,t=!0)=>t?r(e):(e=>{let t=r(e),n=e.lastIndexOf(".");for(;!t&&-1!==n;)n=(e=e.substring(0,n)).lastIndexOf("."),t=r(e);return t})(e),o=(t,o,i=!0)=>{const s=t=>{if(!r(t))return!1;e[t].forEach((e=>{const t=(e=>{const t=Object.prototype.toString;return["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object BigInt64Array]","[object BigUint64Array]"].indexOf(t.call(e))>-1})(o)?o.toString():o;e.callback(t)}))},c=()=>{let e=t,r=t.lastIndexOf(".");for(;-1!==r;)e=e.substring(0,r),r=e.lastIndexOf("."),s(e);s(t),s("*")};if(!n(t))return!1;i?setTimeout(c,10):c()},i=(()=>{let e=0;return(t="guid-")=>(e+=1,`${t+e}`)})(),s=(t,r)=>{const n=i();let o="symbol"==typeof t?t.toString():t;return s=r,"[object Function]"===Object.prototype.toString.apply(s)&&(e[o]||(e[o]=[]),e[o].push({topic:o,callback:r,token:n}),n);var s},c=r=>{if(!t(e,r))return!1;delete e[r]},l=(t,r)=>{if(!n(t))return!1;r?(t=>{const r=Object.keys(e);if(!t||r.length<1)return!1;r.forEach((r=>{const n=e[r];let o;n.forEach(((e,r)=>{e.callback!==t&&e.token!==t||(o=e.topic,n.splice(-1,r))})),n.length<1&&c(o)}))})(r):c(t)},a={on:(e,t)=>s(e,t),emit(e,t,r=!0){return o(e,t,r),this},off(e,t){return l(e,t),this}},u=document.querySelector("#main"),d=u.scrollHeight;let h=null,m=!1;const g=(e,t=100)=>{let r=u.scrollTop;const n=e-r,o=Math.ceil(n/15),i=()=>{if(h&&clearTimeout(h),r+=o,(r<=e&&n<0||r>=e&&n>0)&&(r=e,m=!1),u.scrollTop=r,!m)return clearTimeout(h),h=null,a.emit("buttons:toggle",r),!1;h=setTimeout(i,t)};if(m)return clearTimeout(h),h=null,m=!1,!1;m=!0,i()},p=e=>{g(0,e)},f=e=>{g(d,e)},v=e=>{const t=document.querySelector(`#${e}`);g(t.offsetTop)};var $=()=>{(()=>{const e=new IntersectionObserver((e=>{e.forEach((e=>{e.intersectionRatio>0&&a.emit("sync:anchor",e.target.getAttribute("id"))}))}),{root:u,rootMargin:"0px 0px -90% 0px"});u.querySelectorAll(".section__h3").forEach((t=>{e.observe(t)}))})(),a.on("scroll:to:top",p),a.on("scroll:to:bottom",f),a.on("scroll:to:method",v)};const y=(e,t=null,r=!0,n=!0)=>new CustomEvent(e,{detail:t,bubbles:r,cancelable:n}),_=e=>"string"==typeof e,b=e=>!!(e&&e.nodeName&&e.tagName&&1===e.nodeType),T=(e,t)=>{let r=e._listeners||[];return _(t)&&t&&(r=r.filter((e=>e.type===t))),r},k=["focusout","blur","focusin","focus","load","unload","mouseenter","mouseleave"],S=(e,t,r)=>{const n=k.indexOf(t)>-1;r._delegateListener&&delete(r=r._delegateListener)._delegateListener,function(e,t,r){const n=e._listeners;let o=-1;if(n.length<1)return!1;n.forEach(((e,n)=>{const i=e.fn;t===e.type&&(o=n,i===r&&(o=n))})),o>-1&&n.splice(o,1)}(e,t,r),e.removeEventListener(t,r,n)},x=function(e,t,r=!1){const n=_(e)?document.querySelector(e):e,o=n.childNodes;T(n,t).forEach((e=>{S(n,e.type,e.fn)})),(r||!0===t||1===arguments.length)&&n&&o&&o.forEach((e=>{b(e)&&x(e,t,r)}))},E=e=>"function"==typeof e||"[object Function]"===(e=>Object.prototype.toString.apply(e))(e),I=(e,t,r)=>{if(!E(r))return x(e,t);S(e,t,r)},L=(e,t="")=>{const r=t.replace(/^>/i,"");return!!(t&&r&&e)&&(e.matches?e.matches(r):!!e.msMatchesSelector&&e.msMatchesSelector(r))},j=e=>e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode,q=function(e){return e&&3===e.nodeType?e.parentNode:e},O=function(e){const t=e.target;return q(t)},A=(e,t,r,n,o,i,s=!1)=>{const c=k.indexOf(r)>-1,l=function(c){const a=((e,t,r,n)=>{const o=r||document;if(!e)return null;do{if(null!=t&&(">"===t[0]?e.parentNode===o&&L(e,t):L(e,t))||n&&e===o)return e;if(e===o)break}while(e=j(e))})(O(c),t,e);let u=i||e;c.delegateTarget=a,!0===i&&(u=o),a&&(!0===s&&I(e,r,l),n.call(u,c,o))};e._listeners||(e._listeners=[]),e._listeners.push({el:e,selector:t,type:r,fn:l,data:o,context:i,capture:c}),n._delegateListener=l,e.addEventListener(r,l,c)},P=()=>{const e=navigator.userAgent;return!!e.match(/Trident/g)||!!e.match(/MSIE/g)},w=e=>{const t=T(e),r=[];return t.forEach((e=>{r.push(e.type)})),[...new Set(r)]},C=function(){const e=document.documentElement||document.body;let t=[0,0];return e&&(e.scrollTop||e.scrollLeft)&&(t=[e.scrollTop,e.scrollLeft]),t},M=function(e){let t=e.pageX;return t||0===t||(t=e.clientX||0,P()&&(t+=C()[1])),t},H=function(e){let t=e.pageY;return t||0===t||(t=e.clientY||0,P()&&(t+=C()[0])),t},N=function(e){let t=e.keyCode||e.charCode;const r={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9};return(()=>{const e=navigator.userAgent;return!/Chrome|Android|CriOS|FxiOS|EdgiOS/i.test(e)&&/Mac|iPhone|iPod|iPad/i.test(e)&&/Safari/i.test(e)})()&&t in r&&(t=r[t]),t},X=function(e){e.preventDefault()},Y=function(e){e.stopPropagation()},U=function(e){Y(e),X(e)};class F{constructor(e){return b(e)?this.$el=e:_(e)&&(this.$el=document.querySelector(e)),this}getListeners(e){return T(this.$el,e)}getTypes(){return w(this.$el)}hasEvent(e){return((e,t)=>{const r=w(e);let n;return!(r.length<1)&&(n=r.length>0,t&&_(t)&&(n=r.indexOf(t)>-1),n)})(this.$el,e)}getPageX(e){return M(e)}getPageY(e){return H(e)}getPageXY(e){return function(e){return[M(e),H(e)]}(e)}getCharCode(e){return N(e)}getRelatedTarget(e){return function(e){let t=e.relatedTarget;const r=e.type;return t||("mouseout"===r?t=e.toElement:"mouseover"===r&&(t=e.fromElement)),q(t)}(e)}getTarget(e){return O(e)}purge(e,t=!1){return x(this.$el,e,t),this}destroy(){var e;return e=this.$el,w(e).forEach((t=>{x(e,t,!0)})),this}createEvent(e,t=null,r=!0,n=!0){return y(e,t,r,n)}off(e,t){return I(this.$el,e,t),this}on(e,t,r,n,o,i=!1){return A(this.$el,e,t,r,n,o||this,i),this}once(e,t,r,n,o){return((e,t,r,n,o,i)=>{A(e,t,r,n,o,i,!0)})(this.$el,e,t,r,n,o),this}click(e,t,r,n,o=!1){return A(this.$el,e,"click",t,r,n,o),this}dbclick(e,t,r,n,o=!1){return A(this.$el,e,"dbclick",t,r,n,o),this}mouseenter(e,t,r,n,o=!1){return A(this.$el,e,"mouseenter",t,r,n,o),this}mouseleave(e,t,r,n,o=!1){return A(this.$el,e,"mouseleave",t,r,n,o),this}mousedown(e,t,r,n,o=!1){return A(this.$el,e,"mousedown",t,r,n,o),this}mouseup(e,t,r,n,o=!1){return A(this.$el,e,"mouseup",t,r,n,o),this}mouseover(e,t,r,n,o=!1){return A(this.$el,e,"mouseover",t,r,n,o),this}mousemove(e,t,r,n,o=!1){return A(this.$el,e,"mousemove",t,r,n,o),this}mouseout(e,t,r,n,o=!1){return A(this.$el,e,"mouseout",t,r,n,o),this}drag(e,t,r,n,o=!1){return A(this.$el,e,"drag",t,r,n,o),this}dragend(e,t,r,n,o=!1){return A(this.$el,e,"dragend",t,r,n,o),this}dragenter(e,t,r,n,o=!1){return A(this.$el,e,"dragenter",t,r,n,o),this}dragleave(e,t,r,n,o=!1){return A(this.$el,e,"dragleave",t,r,n,o),this}dragover(e,t,r,n,o=!1){return A(this.$el,e,"dragover",t,r,n,o),this}dragstart(e,t,r,n,o=!1){return A(this.$el,e,"dragstart",t,r,n,o),this}drop(e,t,r,n,o=!1){return A(this.$el,e,"drop",t,r,n,o),this}wheel(e,t,r,n,o=!1){return A(this.$el,e,"wheel",t,r,n,o),this}contextmenu(e,t,r,n,o=!1){return A(this.$el,e,"contextmenu",t,r,n,o),this}focusin(e,t,r,n,o=!1){return function(e,t,r,n,o,i=!1){const s=P()?"focusin":"focus";A(e,t,s,r,n,o,i)}(this.$el,e,t,r,n,o),this}focusout(e,t,r,n,o=!1){return function(e,t,r,n,o,i=!1){const s=P()?"focusout":"blur";A(e,t,s,r,n,o,i)}(this.$el,e,t,r,n,o),this}change(e,t,r,n,o=!1){return A(this.$el,e,"change",t,r,n,o),this}input(e,t,r,n,o=!1){return A(this.$el,e,"input",t,r,n,o),this}compositionstart(e,t,r,n,o=!1){return A(this.$el,e,"compositionstart",t,r,n,o),this}compositionupdate(e,t,r,n,o=!1){return A(this.$el,e,"compositionupdate",t,r,n,o),this}compositionend(e,t,r,n,o=!1){return A(this.$el,e,"compositionend",t,r,n,o),this}paste(e,t,r,n,o=!1){return A(this.$el,e,"paste",t,r,n,o),this}copy(e,t,r,n,o=!1){return A(this.$el,e,"copy",t,r,n,o),this}cut(e,t,r,n,o=!1){return A(this.$el,e,"cut",t,r,n,o),this}keydown(e,t,r,n,o=!1){return A(this.$el,e,"keydown",t,r,n,o),this}keyup(e,t,r,n,o=!1){return A(this.$el,e,"keyup",t,r,n,o),this}error(e,t,r,n,o=!1){return A(this.$el,e,"error",t,r,n,o),this}trigger(e,t){return((e,t,r)=>{let n;!(!t||!r)&&(n=e.querySelector(r),!!n&&n.dispatchEvent(y(t)))})(this.$el,e,t),this}preventDefault(e){return X(e),this}stopPropagation(e){return Y(e),this}stopEvent(e){return U(e),this}stopImmediate(e){return function(e){U(e),e.stopImmediatePropagation()}(e),this}}const R=e=>new F(e),D=document.querySelector("#aside");let B=null;const z=function(e){const t=e.delegateTarget.href.split("#")[1];a.emit("scroll:to:method",t),e.stopPropagation(),e.preventDefault()},G=e=>{const t=document.querySelector(`.aside__anchor[href="#${e}"]`).parentNode;B&&B.classList.remove("active"),t.classList.add("active"),B=t};var J=()=>{const e=R(D);a.on("sync:anchor",G),e.click(".aside__anchor",z)};const K=document.querySelector("#buttons"),Q=e=>{const t=document.querySelector("#main").scrollHeight,r=K.querySelector(".up"),n=K.querySelector(".down");e<=0?(r.classList.add("hide"),n.classList.remove("hide")):e>=t?(n.classList.add("hide"),r.classList.remove("hide")):e>0&&e<t&&(r.classList.remove("hide"),n.classList.remove("hide"))};var V=()=>{const e=R(K);Q(0),a.on("buttons:toggle",Q),e.click(".up",(()=>{a.emit("scroll:to:top",50)})),e.click(".down",(()=>{a.emit("scroll:to:bottom",50)}))};let W=[{id:1,text:"Item-1"},{id:2,text:"Item-2"},{id:3,text:"Item-3"},{id:4,text:"Item-4"},{id:5,text:"Item-5"},{id:6,text:"Item-6"},{id:7,text:"Item-7"},{id:8,text:"Item-8"},{id:9,text:"Item-9"},{id:10,text:"Item-10"}],Z=!0,ee=!0;const te=document.querySelector("#action-remove"),re=document.querySelector("#action-item"),ne=document.querySelector("#append"),oe=document.querySelector("#list"),ie=R(oe),se=document.querySelector("#console"),ce=document.querySelector("#log"),le=R(se),ae=()=>{let e=[];W.forEach((t=>{const r=t.id,n=encodeURIComponent(t.text),o=`<li id="${"item-"+r}" class="case__item"><span class="case__label">${n}</span><a href="#list?id=${r}&amp;name=${n}" class="case__remove" data-id="${r}">删除</a></li>`;e.push(o)})),oe.innerHTML=e.join("")},ue=function(){const e=W.length,t=e>0?W[e-1].id+1:1,r={id:t,text:`Item-${t}`};W.push(r),ae(),ce.value+=`新添加的 li 节点的 id 为：'item-${t}'\r`,_e()},de=function(e){const t=e.delegateTarget,r=parseInt(t.getAttribute("data-id"),10);W=W.filter((e=>r!==e.id)),ae(),ce.value+=`click 事件触发，事件的 delegateTarget 为：'${t}'\r`,ce.value+=`删除的 li 节点 id 为：'item-${r}'\r`,ie.stopImmediate(e),_e()},he=function(e){const t=ie.getRelatedTarget(e);if(!t)return!1;ce.value+=`mouseenter 事件触发，事件的 relatedTarget 为：'${t}'\r`,_e()},me=function(e){const t=ie.getPageX(e),r=ie.getPageY(e),n=e.delegateTarget;if(!n)return!1;ce.value+=`click 事件触发，当前点击的 li 节点的 id 为：'${n.id}'\r`,ce.value+=`getPageX() 获取点击处的 pageX 为：'${t}'\r`,ce.value+=`getPageY() 获取点点击处的 pageY 为：'${r}'\r`,_e()},ge=function(e){const t=e.delegateTarget,r=e.type;if(!t)return!1;ce.value+=`$emitter.trigger('log', '.case__item:nth-child(2)') 触发自定义 ${r} 事件\r`,ce.value+=`事件的 delegateTarget 为节点的 id 为：'${t.id}'\r`,_e()},pe=()=>{Z=!Z,Z?(ce.value+="已恢复 .case__remove 事件代理绑定\r",te.innerHTML="解除 .case__remove 绑定",ie.click(".case__remove",de)):(ce.value+="已解除 .case__remove 事件代理绑定\r",te.innerHTML="恢复 .case__remove 绑定",ie.off("click",de)),_e()},fe=()=>{ee=!ee,ee?(ce.value+="已恢复 .case__item 事件代理绑定\r",re.innerHTML="解除 .case__item 绑定",ie.mouseenter(".case__item",he),ie.on(".case__item","click",me)):(ce.value+="已解除 .case__item 事件代理绑定\r",re.innerHTML="恢复 .case__item 绑定",ie.purge("mouseenter"),ie.off("click",me)),_e()},ve=function(e){const t=e.type,r=e.target;if(!r)return!1;ce.value+=`${r} 触发 ${t} 事件\r`,_e()},$e=function(e){const t=e.type,r=e.target,n=le.getCharCode(e);if(!r)return!1;ce.value+=`\r${r} 触发 ${t} 事件\r`,ce.value+=`事件的 charCode 是：${n}\r`,_e()},ye=function(e){const t=e.type,r=e.target;if(!r)return!1;ie.stopImmediate(e),ce.value+=`$emitter.trigger('alert', '.case__item:last-child') 触发自定义 ${t} 事件\r`,ce.value+=`事件的 delegateTarget 为节点的 id 为：'${r.id}'\r`,_e()},_e=()=>{ce.scrollTop=ce.scrollHeight};var be=()=>{let e=[];ae(),oe.addEventListener("click",me),re.addEventListener("click",fe),te.addEventListener("click",pe),ie.mouseenter(".case__item",he),ie.click(".case__remove",de),ie.on(".case__item","click",me),ie.on(".case__item","log",ge),ie.on(".case__item","alert",ye),ie.on(".case__item","alert",ve),ne.addEventListener("click",ue),e=ie.getTypes(),ce.value+=`getTypes() 获取 $emitter 绑定事件：'${e}'\r`,ie.trigger("log",".case__item:nth-child(2)"),ie.trigger("alert",".case__item:last-child"),le.focusin(".case__textarea",ve),le.keyup(".case__textarea",$e),e=le.getTypes(),ce.value+=`getTypes() 获取 $provider 绑定事件：'${e}'\r`};$(),J(),V(),be()}();
//# sourceMappingURL=docs.min.js.map
