!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).delegate=t()}(this,(function(){"use strict";const e=e=>"string"==typeof e,t=e=>!!(e&&e.nodeName&&e.tagName&&1===e.nodeType),n=(t,n)=>{let r=t._listeners||[];return e(n)&&n&&(r=r.filter((e=>e.type===n))),r},r=["focusout","blur","focusin","focus","load","unload","mouseenter","mouseleave"],s=(e,t,n)=>{const s=r.indexOf(t)>-1;n._delegateListener&&delete(n=n._delegateListener)._delegateListener,function(e,t,n){const r=e._listeners;let s=-1;if(r.length<1)return!1;r.forEach(((e,r)=>{const o=e.fn;t===e.type&&(s=r,o===n&&(s=r))})),s>-1&&r.splice(s,1)}(e,t,n),e.removeEventListener(t,n,s)},o=function(r,i,l=!1){const c=e(r)?document.querySelector(r):r,u=c.childNodes;n(c,i).forEach((e=>{s(c,e.type,e.fn)})),(l||!0===i||1===arguments.length)&&c&&u&&u.forEach((e=>{t(e)&&o(e,i,l)}))},i=e=>"function"==typeof e||"[object Function]"===(e=>Object.prototype.toString.apply(e))(e),l=(e,t,n)=>{if(!i(n))return o(e,t);s(e,t,n)},c=(e,t="")=>{const n=t.replace(/^>/i,"");return!!(t&&n&&e)&&(e.matches?e.matches(n):!!e.msMatchesSelector&&e.msMatchesSelector(n))},u=e=>e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode,h=(e,t,n,s,o,i,h=!1)=>{const a=r.indexOf(n)>-1,d=function(r){const a=function(e){const t=e.target;return(n=t)&&3===n.nodeType?n.parentNode:n;var n}(r),f=((e,t,n,r)=>{const s=n||document;if(!e)return null;do{if(null!=t&&(">"===t[0]?e.parentNode===s&&c(e,t):c(e,t))||r&&e===s)return e;if(e===s)break}while(e=u(e))})(a,t,e);let p=i||e;r.delegateTarget=f,!0===i&&(p=o),f&&(!0===h&&l(e,n,d),s.call(p,r,o))};e._listeners||(e._listeners=[]),e._listeners.push({el:e,selector:t,type:n,fn:d,data:o,context:i,capture:a}),s._delegateListener=d,e.addEventListener(n,d,a)},a=e=>{const t=(e=>{const t=n(e),r=[];return t.forEach((e=>{r.push(e.type)})),[...new Set(r)]})(e);t.forEach((t=>{o(e,t,!0)}))},d=(e,t=null,n=!0,r=!0)=>new CustomEvent(e,{detail:t,bubbles:n,cancelable:r});class f{constructor(n){return t(n)?this.$el=n:e(n)&&(this.$el=document.querySelector(n)),this}purge(e,t=!1){return o(this.$el,e,t),this}destroy(){return a(this.$el),this}off(e,t){return l(this.$el,e,t),this}on(e,t,n,r,s,o=!1){return h(this.$el,e,t,n,r,s||this,o),this}once(e,t,n,r,s){return((e,t,n,r,s,o)=>{h(e,t,n,r,s,o,!0)})(this.$el,e,t,n,r,s),this}click(e,t,n,r,s=!1){return h(this.$el,e,"click",t,n,r,s),this}mousemove(e,t,n,r,s=!1){return h(this.$el,e,"mousemove",t,n,r,s),this}mouseout(e,t,n,r,s=!1){return h(this.$el,e,"mouseout",t,n,r,s),this}change(e,t,n,r,s=!1){return h(this.$el,e,"change",t,n,r,s),this}createEvent(e,t=null,n=!0,r=!0){return d(e,t,n,r)}trigger(e,t){return((e,t,n)=>{let r;!(!t||!n)&&(r=e.querySelector(n),!!r&&r.dispatchEvent(d(t)))})(this.$el,e,t),this}}return e=>new f(e)}));
//# sourceMappingURL=delegate.core.min.js.map
