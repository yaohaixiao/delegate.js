!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).delegate=t()}(this,(function(){"use strict";const e=(e,t=null,r=!0,n=!0)=>new CustomEvent(e,{detail:t,bubbles:r,cancelable:n}),t=e=>"string"==typeof e,r=e=>!!(e&&e.nodeName&&e.tagName&&1===e.nodeType),n=(e,r)=>{let n=e._listeners||[];return t(r)&&r&&(n=n.filter((e=>e.type===r))),n},s=["focusout","blur","focusin","focus","load","unload","mouseenter","mouseleave"],o=(e,t,r)=>{const n=s.indexOf(t)>-1;r._delegateListener&&delete(r=r._delegateListener)._delegateListener,function(e,t,r){const n=e._listeners;let s=-1;if(n.length<1)return!1;n.forEach(((e,n)=>{const o=e.fn;t===e.type&&(s=n,o===r&&(s=n))})),s>-1&&n.splice(s,1)}(e,t,r),e.removeEventListener(t,r,n)},i=function(e,s,u=!1){const l=t(e)?document.querySelector(e):e,c=l.childNodes;n(l,s).forEach((e=>{o(l,e.type,e.fn)})),(u||!0===s||1===arguments.length)&&l&&c&&c.forEach((e=>{r(e)&&i(e,s,u)}))},u=e=>"function"==typeof e||"[object Function]"===(e=>Object.prototype.toString.apply(e))(e),l=(e,t,r)=>{if(!u(r))return i(e,t);o(e,t,r)},c=(e,t,r,n,o,i=!1)=>{const c=s.indexOf(t)>-1,h=function(s){let u=o||e;!0===o&&(u=n),!0===i&&l(e,t,h),r.call(u,s,n)};if(!u(r))return!1;e._listeners||(e._listeners=[]),e._listeners.push({el:e,type:t,fn:h,data:n,context:o,capture:c}),r._delegateListener=h,e.addEventListener(t,h,c)},h=(e,t="")=>{const r=t.replace(/^>/i,"");return!!(t&&r&&e)&&(e.matches?e.matches(r):!!e.msMatchesSelector&&e.msMatchesSelector(r))},a=e=>e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode,d=function(e){return e&&3===e.nodeType?e.parentNode:e},f=function(e){const t=e.target;return d(t)},p=(e,t,r,n,o,i,u=!1)=>{const c=s.indexOf(r)>-1,d=function(s){const c=((e,t,r,n)=>{const s=r||document;if(!e)return null;do{if(null!=t&&(">"===t[0]?e.parentNode===s&&h(e,t):h(e,t))||n&&e===s)return e;if(e===s)break}while(e=a(e))})(f(s),t,e);let p=i||e;s.delegateTarget=c,!0===i&&(p=o),c&&(!0===u&&l(e,r,d),n.call(p,s,o))};e._listeners||(e._listeners=[]),e._listeners.push({el:e,selector:t,type:r,fn:d,data:o,context:i,capture:c}),n._delegateListener=d,e.addEventListener(r,d,c)},g=()=>{const e=navigator.userAgent;return!!e.match(/Trident/g)||!!e.match(/MSIE/g)},m=e=>{const t=n(e),r=[];return t.forEach((e=>{r.push(e.type)})),[...new Set(r)]},$=function(){const e=document.documentElement||document.body;let t=[0,0];return e&&(e.scrollTop||e.scrollLeft)&&(t=[e.scrollTop,e.scrollLeft]),t},y=function(e){let t=e.pageX;return t||0===t||(t=e.clientX||0,g()&&(t+=$()[1])),t},v=function(e){let t=e.pageY;return t||0===t||(t=e.clientY||0,g()&&(t+=$()[0])),t},E=function(e){let t=e.keyCode||e.charCode;const r={63232:38,63233:40,63234:37,63235:39,63276:33,63277:34,25:9};return(()=>{const e=navigator.userAgent;return!/Chrome|Android|CriOS|FxiOS|EdgiOS/i.test(e)&&/Mac|iPhone|iPod|iPad/i.test(e)&&/Safari/i.test(e)})()&&t in r&&(t=r[t]),t},b=function(e){e.preventDefault()},T=function(e){e.stopPropagation()},_=function(e){T(e),b(e)};class S{constructor(e){r(e)?this.$el=e:t(e)&&(this.$el=document.querySelector(e))}getListeners(e){return n(this.$el,e)}getTypes(){return m(this.$el)}hasEvent(e){return((e,r)=>{const n=m(e);let s;return!(n.length<1)&&(s=n.length>0,r&&t(r)&&(s=n.indexOf(r)>-1),s)})(this.$el,e)}getPageX(e){return y(e)}getPageY(e){return v(e)}getPageXY(e){return function(e){return[y(e),v(e)]}(e)}getCharCode(e){return E(e)}getRelatedTarget(e){return function(e){let t=e.relatedTarget;const r=e.type;return t||("mouseout"===r?t=e.toElement:"mouseover"===r&&(t=e.fromElement)),d(t)}(e)}getTarget(e){return f(e)}purge(e,t=!1){return i(this.$el,e,t),this}destroy(){var e;return e=this.$el,m(e).forEach((t=>{i(e,t,!0)})),this}createEvent(t,r=null,n=!0,s=!0){return e(t,r,n,s)}off(e,t){return l(this.$el,e,t),this}at(e,t,r,n,s=!1){return c(this.$el,e,t,r,n,s),this}on(e,t,r,n,s,o=!1){return p(this.$el,e,t,r,n,s||this,o),this}only(e,t,r,n){return((e,t,r,n,s)=>{c(e,t,r,n,s,!0)})(this.$el,e,t,r,n),this}once(e,t,r,n,s){return((e,t,r,n,s,o)=>{p(e,t,r,n,s,o,!0)})(this.$el,e,t,r,n,s),this}click(e,t,r,n,s=!1){return p(this.$el,e,"click",t,r,n,s),this}dbclick(e,t,r,n,s=!1){return p(this.$el,e,"dbclick",t,r,n,s),this}mouseenter(e,t,r,n,s=!1){return p(this.$el,e,"mouseenter",t,r,n,s),this}mouseleave(e,t,r,n,s=!1){return p(this.$el,e,"mouseleave",t,r,n,s),this}mousedown(e,t,r,n,s=!1){return p(this.$el,e,"mousedown",t,r,n,s),this}mouseup(e,t,r,n,s=!1){return p(this.$el,e,"mouseup",t,r,n,s),this}mouseover(e,t,r,n,s=!1){return p(this.$el,e,"mouseover",t,r,n,s),this}mousemove(e,t,r,n,s=!1){return p(this.$el,e,"mousemove",t,r,n,s),this}mouseout(e,t,r,n,s=!1){return p(this.$el,e,"mouseout",t,r,n,s),this}drag(e,t,r,n,s=!1){return p(this.$el,e,"drag",t,r,n,s),this}dragend(e,t,r,n,s=!1){return p(this.$el,e,"dragend",t,r,n,s),this}dragenter(e,t,r,n,s=!1){return p(this.$el,e,"dragenter",t,r,n,s),this}dragleave(e,t,r,n,s=!1){return p(this.$el,e,"dragleave",t,r,n,s),this}dragover(e,t,r,n,s=!1){return p(this.$el,e,"dragover",t,r,n,s),this}dragstart(e,t,r,n,s=!1){return p(this.$el,e,"dragstart",t,r,n,s),this}drop(e,t,r,n,s=!1){return p(this.$el,e,"drop",t,r,n,s),this}wheel(e,t,r,n,s=!1){return p(this.$el,e,"wheel",t,r,n,s),this}contextmenu(e,t,r,n,s=!1){return p(this.$el,e,"contextmenu",t,r,n,s),this}focusin(e,t,r,n,s=!1){return function(e,t,r,n,s,o=!1){const i=g()?"focusin":"focus";p(e,t,i,r,n,s,o)}(this.$el,e,t,r,n,s),this}focusout(e,t,r,n,s=!1){return function(e,t,r,n,s,o=!1){const i=g()?"focusout":"blur";p(e,t,i,r,n,s,o)}(this.$el,e,t,r,n,s),this}change(e,t,r,n,s=!1){return p(this.$el,e,"change",t,r,n,s),this}input(e,t,r,n,s=!1){return p(this.$el,e,"input",t,r,n,s),this}compositionstart(e,t,r,n,s=!1){return p(this.$el,e,"compositionstart",t,r,n,s),this}compositionupdate(e,t,r,n,s=!1){return p(this.$el,e,"compositionupdate",t,r,n,s),this}compositionend(e,t,r,n,s=!1){return p(this.$el,e,"compositionend",t,r,n,s),this}paste(e,t,r,n,s=!1){return p(this.$el,e,"paste",t,r,n,s),this}copy(e,t,r,n,s=!1){return p(this.$el,e,"copy",t,r,n,s),this}cut(e,t,r,n,s=!1){return p(this.$el,e,"cut",t,r,n,s),this}keydown(e,t,r,n,s=!1){return p(this.$el,e,"keydown",t,r,n,s),this}keyup(e,t,r,n,s=!1){return p(this.$el,e,"keyup",t,r,n,s),this}error(e,t,r,n,s=!1){return p(this.$el,e,"error",t,r,n,s),this}trigger(t,r){return((t,r,n)=>{let s;!!r&&(s=n?t.querySelector(n):t,!!s&&s.dispatchEvent(e(r)))})(this.$el,t,r),this}preventDefault(e){return b(e),this}stopPropagation(e){return T(e),this}stopEvent(e){return _(e),this}stopImmediate(e){return function(e){_(e),e.stopImmediatePropagation()}(e),this}}return e=>new S(e)}));
//# sourceMappingURL=delegate.min.js.map
