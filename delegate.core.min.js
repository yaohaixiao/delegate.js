!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).delegate=t()}(this,(function(){"use strict";const e=e=>"string"==typeof e,t=e=>!!(e&&e.nodeName&&e.tagName&&1===e.nodeType),n=(t,n)=>{let o=t._listeners||[];return e(n)&&n&&(o=o.filter((e=>e.type===n))),o},o=["focusout","blur","focusin","focus","load","unload","mouseenter","mouseleave"],r=(e,t,n)=>{const r=o.indexOf(t)>-1;n._delegateListener&&delete(n=n._delegateListener)._delegateListener,function(e,t,n){const o=e._listeners;let r=-1;if(o.length<1)return!1;o.forEach(((e,o)=>{const s=e.fn;t===e.type&&(r=o,s===n&&(r=o))})),r>-1&&o.splice(r,1)}(e,t,n),e.removeEventListener(t,n,r)},s=function(o,i,c=!1){const l=e(o)?document.querySelector(o):o,u=l.childNodes;n(l,i).forEach((e=>{r(l,e.type,e.fn)})),(c||!0===i||1===arguments.length)&&l&&u&&u.forEach((e=>{t(e)&&s(e,i,c)}))},i=e=>"function"==typeof e||"[object Function]"===(e=>Object.prototype.toString.apply(e))(e),c=(e,t,n)=>{if(!i(n))return s(e,t);r(e,t,n)},l=(e,t="")=>{const n=t.replace(/^>/i,"");return!!(t&&n&&e)&&(e.matches?e.matches(n):!!e.msMatchesSelector&&e.msMatchesSelector(n))},u=e=>e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode,f=(e,t,n,r,s,i,f=!1)=>{const a=o.indexOf(n)>-1,d=function(o){const a=function(e){const t=e.target;return(n=t)&&3===n.nodeType?n.parentNode:n;var n}(o),h=((e,t,n,o)=>{const r=n||document;if(!e)return null;do{if(null!=t&&(">"===t[0]?e.parentNode===r&&l(e,t):l(e,t))||o&&e===r)return e;if(e===r)break}while(e=u(e))})(a,t,e);let p=i||e;o.delegateTarget=h,!0===i&&(p=s),h&&(!0===f&&c(e,n,d),r.call(p,o,s))};e._listeners||(e._listeners=[]),e._listeners.push({el:e,selector:t,type:n,fn:d,data:s,context:i,capture:a}),r._delegateListener=d,e.addEventListener(n,d,a)},a=e=>{const t=(e=>{const t=n(e),o=[];return t.forEach((e=>{o.push(e.type)})),[...new Set(o)]})(e);t.forEach((t=>{s(e,t,!0)}))};class d{constructor(n){return t(n)?this.$el=n:e(n)&&(this.$el=document.querySelector(n)),this}purge(e,t=!1){return s(this.$el,e,t),this}destroy(){return a(this.$el),this}off(e,t){return c(this.$el,e,t),this}on(e,t,n,o,r,s=!1){return f(this.$el,e,t,n,o,r||this,s),this}once(e,t,n,o,r){return((e,t,n,o,r,s)=>{f(e,t,n,o,r,s,!0)})(this.$el,e,t,n,o,r),this}}return e=>new d(e)}));
//# sourceMappingURL=delegate.core.min.js.map
