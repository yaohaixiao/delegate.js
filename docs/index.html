<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="keywords" content="delegate.js,JavaScript,Event,Delegate">
  <meta name="description"
        content="delegate.js 是一个轻量级的 JavaScript 事件委托库。delegate.js 中封装了：on()、once()、off() 等事件侦听相关的常用方法。delegate.js 的 API 借鉴了 jQuery 的链式调用模式，使得 delegate.js 的 API 使用起来非常灵活和方便。">
  <title>delegate.js</title>
  <link href="css/style.css" type="text/css" rel="stylesheet">
</head>
<body>
<header class="header">
  <h1 class="title">delegate.js</h1>
  <a href="https://github.com/yaohaixiao/delegate.js/archive/refs/heads/main.zip" class="download">Download
    delegate.js</a>
</header>
<main class="main">
  <div class="links">
    <a href="https://github.com/yaohaixiao/delegate.js">GitHub</a>
    <span>&nbsp;&nbsp;&nbsp;&nbsp;</span>
    <a href="https://github.com/yaohaixiao/delegate.js/issues">Issues</a>
  </div>
  <article class="article">
    <h2>delegate.js 简介</h2>
    <p>delegate.js 是一个轻量级的 JavaScript 事件委托库。delegate.js 中封装了：on()、once()、off() 等事件侦听相关的常用方法。
    delegate.js 的 API 借鉴了 jQuery 的链式调用模式，使得 delegate.js 的 API 使用起来非常灵活和方便。</p>
    <h2>项目初衷</h2>
    <p>编写 delegate.js 的主要是为初学 JavaScript 的朋友了解事件委托的实现机制而开发。当然，delegate.js 也可以应用到实际的产品开发中。</p>
    <h2>特点</h2>
    <ul>
      <li>1. 支持 UMD 规范；</li>
      <li>2. 原生 JavaScript 编写，无任何依赖；</li>
      <li>3. 采用 jQuery 链式调用语法，调用语法简洁方便；</li>
      <li>4. 文件体积小，加载速度快；</li>
    </ul>
    <h2 class="section-title">Browsers support</h2>
    <table class="table">
      <thead>
      <tr>
        <th><a href="https://github.com/yaohaixiao/delegate.js/" rel="nofollow"><img src="https://raw.githubusercontent.com/alrra/browser-logos/master/src/edge/edge_48x48.png" alt="IE / Edge" width="24px" height="24px" style="max-width: 100%;"></a><br>IE / Edge</th>
        <th><a href="https://github.com/yaohaixiao/delegate.js/" rel="nofollow"><img src="https://raw.githubusercontent.com/alrra/browser-logos/master/src/firefox/firefox_48x48.png" alt="Firefox" width="24px" height="24px" style="max-width: 100%;"></a><br>Firefox</th>
        <th><a href="https://github.com/yaohaixiao/delegate.js/" rel="nofollow"><img src="https://raw.githubusercontent.com/alrra/browser-logos/master/src/chrome/chrome_48x48.png" alt="Chrome" width="24px" height="24px" style="max-width: 100%;"></a><br>Chrome</th>
        <th><a href="https://github.com/yaohaixiao/delegate.js/" rel="nofollow"><img src="https://raw.githubusercontent.com/alrra/browser-logos/master/src/safari/safari_48x48.png" alt="Safari" width="24px" height="24px" style="max-width: 100%;"></a><br>Safari</th>
        <th><a href="https://github.com/yaohaixiao/delegate.js/" rel="nofollow"><img src="https://raw.githubusercontent.com/alrra/browser-logos/master/src/opera/opera_48x48.png" alt="Opera" width="24px" height="24px" style="max-width: 100%;"></a><br>Opera</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>IE11, Edge</td>
        <td>last 10 versions</td>
        <td>last 10 versions</td>
        <td>last 10 versions</td>
        <td>last 10 versions</td>
      </tr>
      </tbody>
    </table>
    <h2>安装说明</h2>
    <p>delegate.js 支持 AMD 和 CommonJS 规范的模块调用方式，可以直接使用 npm 安装，也可以使用 script 标签引入到页面。</p>
    <h3>npm 安装</h3>
    <pre class="code"><code># install from npmjs.com
npm i -S @yaohaixiao/delegate.js

# install from github.com
npm i -S @yaohaixiao/delegate.js@1.1.0 --registry=https://npm.pkg.github.com</code></pre>
    <h3>CDN 调用 JS 文件</h3>
    <pre class="code"><code>&lt;script src="https://cdn.jsdelivr.net/gh/yaohaixiao/delegate.js/delegate.min.js"&gt;&lt;/script&gt;</code></pre>
    <h3>本地调用 JS 文件</h3>
    <pre class="code"><code>&lt;script src="/path/to/delegate.js"&gt;&lt;/script&gt;</code></pre>
    <h2>Examples</h2>
    <p>事件代理最适用的场景就是下面示例中，需要动态创建 DOM 元素，并且还会频繁移除动态创建的 DOM 元素的应用场景。在该场景下，通常不方便，也不会为动态创建的 DOM 节点一一绑定事件处理器。因为在移除 DOM 节点时，如果没有（及时）销毁 DOM 节点绑定的事件处理函数，就是导致事件处理器一直占用内存资源无法释放，从而导致浏览器的内存溢出。通过事件代理就可以很好的解决前面提到的问题，因为只需要在一个 DOM 节点上绑定事件代理，所有动态创建的 DOM 节点就都可以通过事件冒泡机制触发父节点上绑定的事件。</p>
    <div class="case">
      <div class="preview">
        <div class="toolbar">
          <span id="action-item" class="action">解除 .item 事件代理绑定</span>
          <span id="action-remove" class="action">解除 .remove 事件代理绑定</span>
        </div>
        <ul id="list" class="list"></ul>
        <div class="toolbar">
          <span id="append" class="action">添加行</span>
        </div>
        <div class="log">
          <textarea id="log" class="textarea"></textarea>
        </div>
      </div>
      <div class="usage">
        <pre class="code"><code>&lt;ul id="list" class="list"&gt;
&lt;/ul&gt;
&lt;script src="lib/delegate.min.js"&gt;&lt;/script&gt;

&lt;script&gt;
const $list = document.querySelector('#list')
const $emitter = delegate($list)

// 通过 on() 方法绑定代理事件
$emitter.on('.item', 'click', logClick)
// 通过 mouseenter() 方法绑定 mouseenter 代理事件
$emitter.mouseenter('.item', logMouseEnter)
// 通过 click() 方法绑定 click 代理事件
$emitter.click('.remove', remove)

// 通过 off() 方法解除已绑定的代理事件
$emitter.off('click', log)
$emitter.off('click', remove)
// 也可以通过 purge() 方法，解除所有 mouseenter 类型事件绑定
$emitter.purge('mouseenter')

// 解除所有事件绑定
$emitter.destroy()
&lt;/script&gt;</code></pre>
      </div>
    </div>
    <h2 class="section-title">License</h2>
    <section class="usage">
      <p>Licensed under MIT License.</p>
    </section>
  </article>
</main>
<footer class="footer">
  <p>Copyright &copy; 2008-2023 <a href="http://www.yaohaixiao.com/">Yaohaixiao</a>, all right reserved.
  </p>
</footer>
<script src="lib/delegate.min.js"></script>
<script src="js/docs.js"></script>
</body>
</html>
